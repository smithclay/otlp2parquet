# SAM CLI configuration file
# Generated by: sam deploy --guided
#
# To deploy: sam deploy
# To deploy with prompts: sam deploy --guided

version = 0.1

[default]
[default.deploy]
[default.deploy.parameters]
stack_name = "otlp2parquet"
resolve_s3 = true
s3_prefix = "otlp2parquet"
region = "us-east-1"
confirm_changeset = true
capabilities = "CAPABILITY_IAM"
disable_rollback = false
image_repositories = []

# Parameter overrides (customize as needed)
parameter_overrides = [
    "BucketName=otlp-logs",
    "LogRetentionDays=7"
]

[default.build]
[default.build.parameters]
# Use cargo-lambda for Rust builds
use_container = false  # Set to true if you don't have cargo-lambda installed locally

[default.local_invoke]
[default.local_invoke.parameters]
# For testing locally: sam local invoke
skip_pull_image = true

[default.validate]
[default.validate.parameters]
lint = true

# Production environment example
[production]
[production.deploy]
[production.deploy.parameters]
stack_name = "otlp2parquet-prod"
region = "us-east-1"
confirm_changeset = false  # Auto-deploy in production
parameter_overrides = [
    "BucketName=otlp-logs-prod",
    "LogRetentionDays=30"
]

# Staging environment example
[staging]
[staging.deploy]
[staging.deploy.parameters]
stack_name = "otlp2parquet-staging"
region = "us-east-1"
parameter_overrides = [
    "BucketName=otlp-logs-staging",
    "LogRetentionDays=7"
]
